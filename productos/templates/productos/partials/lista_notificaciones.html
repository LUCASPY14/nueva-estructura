{% for notificacion in notificaciones %}
<div class="p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors {% if not notificacion.esta_leida %}bg-blue-50 dark:bg-blue-900{% endif %}"
     hx-target="this"
     hx-swap="outerHTML">
    <div class="flex items-start justify-between">
        <div class="flex-1">
            <p class="text-sm font-medium text-gray-900 dark:text-white">
                {{ notificacion.mensaje }}
            </p>
            <div class="mt-1 flex items-center space-x-2">
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                    {% if notificacion.prioridad == 'critica' %}
                        bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200
                    {% elif notificacion.prioridad == 'alta' %}
                        bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200
                    {% elif notificacion.prioridad == 'media' %}
                        bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200
                    {% else %}
                        bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200
                    {% endif %}">
                    {{ notificacion.get_prioridad_display }}
                </span>
                <span class="text-sm text-gray-500 dark:text-gray-400">
                    {{ notificacion.fecha_creacion|timesince }}
                </span>
            </div>
        </div>
        <button class="ml-4 text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"
                hx-post="{% url 'productos:marcar_notificacion_leida' notificacion.pk %}"
                hx-swap="outerHTML">
            Marcar como le√≠da
        </button>
    </div>
</div>
{% empty %}
<div class="p-4 text-center text-gray-500 dark:text-gray-400">
    No hay notificaciones pendientes
</div>
{% endfor %}